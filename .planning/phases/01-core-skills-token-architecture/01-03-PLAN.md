---
phase: 01-core-skills-token-architecture
plan: 03
type: execute
wave: 2
depends_on: ["01-02"]
files_modified:
  - skills/gsd-execute-phase/SKILL.md
  - skills/gsd-execute-phase/references/agents/gsd-executor.md
  - skills/gsd-execute-phase/references/agents/gsd-verifier.md
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Execute-phase SKILL.md uses <files_to_read> XML tags without extra instructional text, matching plan-phase pattern"
    - "All gsd-tools references in execute-phase skill and agents use .js extension, matching plan-phase and installed version"
  artifacts:
    - path: "skills/gsd-execute-phase/SKILL.md"
      provides: "Consistent path-passing pattern and correct gsd-tools extension"
      contains: "gsd-tools.js"
    - path: "skills/gsd-execute-phase/references/agents/gsd-executor.md"
      provides: "Executor agent with correct gsd-tools extension"
      contains: "gsd-tools.js"
    - path: "skills/gsd-execute-phase/references/agents/gsd-verifier.md"
      provides: "Verifier agent with correct gsd-tools extension"
      contains: "gsd-tools.js"
  key_links:
    - from: "skills/gsd-execute-phase/SKILL.md"
      to: "~/.claude/get-shit-done/bin/gsd-tools.js"
      via: "node command invocation"
      pattern: "gsd-tools\\.js"
---

<objective>
Close 2 gaps from Phase 1 verification: standardize path-based context passing pattern and align gsd-tools file extension across execute-phase skill and agents.

Purpose: Verification found inconsistent `<files_to_read>` tag usage (extra instructional text in execute-phase vs clean tags in plan-phase) and gsd-tools extension mismatch (.cjs in execute-phase vs .js in plan-phase and installed version). Both are alignment issues that create maintenance burden.

Output: Updated execute-phase SKILL.md and 2 agent definitions with consistent patterns.
</objective>

<execution_context>
@/Users/nick/.claude/get-shit-done/workflows/execute-plan.md
@/Users/nick/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-core-skills-token-architecture/01-VERIFICATION.md

Reference for correct pattern:
@skills/gsd-plan-phase/SKILL.md (uses clean <files_to_read> tags and gsd-tools.js)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Standardize files_to_read tags and fix gsd-tools extension in execute-phase SKILL.md</name>
  <files>skills/gsd-execute-phase/SKILL.md</files>
  <action>
Two changes to skills/gsd-execute-phase/SKILL.md:

**Change 1: Clean up files_to_read tag in executor spawn (line ~80-85)**

Current (inconsistent):
```
  <files_to_read>
  Read these files at execution start using the Read tool:
  - Plan: {phase_dir}/{plan_file}
  - State: .planning/STATE.md
  - Config: .planning/config.json (if exists)
  </files_to_read>
```

Change to (matches plan-phase pattern):
```
  <files_to_read>
  - Plan: {phase_dir}/{plan_file}
  - State: .planning/STATE.md
  - Config: .planning/config.json (if exists)
  </files_to_read>
```

Remove only the "Read these files at execution start using the Read tool:" line. The `<files_to_read>` XML tag itself is the instruction -- extra text is redundant and inconsistent with plan-phase.

Note: The verifier spawn (line ~126-130) already has clean `<files_to_read>` tags with no extra text. No change needed there.

**Change 2: Replace all gsd-tools.cjs references with gsd-tools.js**

Three occurrences in SKILL.md:
- Line 28: `gsd-tools.cjs init execute-phase` -> `gsd-tools.js init execute-phase`
- Line 46: `gsd-tools.cjs phase-plan-index` -> `gsd-tools.js phase-plan-index`
- Line 147: `gsd-tools.cjs commit` -> `gsd-tools.js commit`

The installed version at `~/.claude/get-shit-done/bin/gsd-tools.js` is .js. The install script copies the repo's .cjs source to .js at install time. Plan-phase already uses .js consistently. Execute-phase should match.
  </action>
  <verify>
1. `grep -c "Read these files at execution start" skills/gsd-execute-phase/SKILL.md` returns 0
2. `grep -c "gsd-tools.cjs" skills/gsd-execute-phase/SKILL.md` returns 0
3. `grep -c "gsd-tools.js" skills/gsd-execute-phase/SKILL.md` returns 3 or more
4. `grep -c "<files_to_read>" skills/gsd-execute-phase/SKILL.md` returns 2 (both spawn blocks)
  </verify>
  <done>
Execute-phase SKILL.md uses clean `<files_to_read>` tags (no extra instructional text) matching plan-phase pattern, and all gsd-tools references use .js extension matching installed version.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix gsd-tools extension in executor and verifier agent definitions</name>
  <files>
skills/gsd-execute-phase/references/agents/gsd-executor.md
skills/gsd-execute-phase/references/agents/gsd-verifier.md
  </files>
  <action>
Replace all `gsd-tools.cjs` references with `gsd-tools.js` in both agent files.

**gsd-executor.md** -- 8 occurrences:
- Line 41: `gsd-tools.cjs init execute-phase`
- Line 349: `gsd-tools.cjs state advance-plan`
- Line 352: `gsd-tools.cjs state update-progress`
- Line 355: `gsd-tools.cjs state record-metric`
- Line 361: `gsd-tools.cjs state add-decision`
- Line 366: `gsd-tools.cjs state record-session`
- Line 381: `gsd-tools.cjs state add-blocker`
- Line 387: `gsd-tools.cjs commit`

**gsd-verifier.md** -- 5 occurrences:
- Line 57: `gsd-tools.cjs roadmap get-phase`
- Line 121: `gsd-tools.cjs verify artifacts`
- Line 170: `gsd-tools.cjs verify key-links`
- Line 238: `gsd-tools.cjs summary-extract`
- Line 243: `gsd-tools.cjs verify commits`

Use find-and-replace: change every `gsd-tools.cjs` to `gsd-tools.js` in both files. Do NOT change any other content.
  </action>
  <verify>
1. `grep -c "gsd-tools.cjs" skills/gsd-execute-phase/references/agents/gsd-executor.md` returns 0
2. `grep -c "gsd-tools.cjs" skills/gsd-execute-phase/references/agents/gsd-verifier.md` returns 0
3. `grep -c "gsd-tools.js" skills/gsd-execute-phase/references/agents/gsd-executor.md` returns 8
4. `grep -c "gsd-tools.js" skills/gsd-execute-phase/references/agents/gsd-verifier.md` returns 5
  </verify>
  <done>
All gsd-tools references in both execute-phase agent definitions use .js extension, matching plan-phase agents and the installed version at ~/.claude/get-shit-done/bin/gsd-tools.js.
  </done>
</task>

</tasks>

<verification>
1. `grep -rc "gsd-tools.cjs" skills/gsd-execute-phase/` returns 0 total matches across all files
2. `grep -rc "gsd-tools.js" skills/gsd-execute-phase/` returns 16 total matches (3 SKILL.md + 8 executor + 5 verifier)
3. `grep -c "Read these files at execution start" skills/gsd-execute-phase/SKILL.md` returns 0
4. Both `<files_to_read>` blocks in SKILL.md contain only file path list items (no instructional preamble)
</verification>

<success_criteria>
- Zero occurrences of `gsd-tools.cjs` across all execute-phase files (SKILL.md + 2 agents)
- Execute-phase `<files_to_read>` tags match plan-phase pattern (clean, no extra text)
- Both verification gaps from 01-VERIFICATION.md are closed
- TOKEN-01 (path-based context passing) fully consistent across both skills
</success_criteria>

<output>
After completion, create `.planning/phases/01-core-skills-token-architecture/01-03-SUMMARY.md`
</output>
